# README

# KeyValueDataBase

本程序是一个基于nio根据主从Reactor多线程模型写的kv数据库



## 运行环境

- 编程语言：java

- jdk版本：17

- **使用插件：**

  - log4j-api-2.20.0.jar

  - log4j-core-2.20.0.jar

  - tinylog-api-2.6.2.jar

  - tinylog-impl-2.6.2.jar

    

## 快速开始

- 运行server包中的 `DataBaseServer`类 

  > 启动服务器

- 运行test包中的`TestClient`类

  > 启动客户端 支持同时打开多个客户端

- 在客户端控制台中输想要执行的指令 执行增删改查操作

- 客户端中输入exit关闭客户端

- 服务器中输入exit关闭服务器

  

## 运行流程

**开启 运行程序**

1. 运行服务器
   1. 初始化文件及其数据
   2. 加载线程池 钩子机制 控制台监听 定时任务
2. 启动服务器
   1. 等待客户端连接 （无连接时空转）
3. 启动客户端
   1. 客户端初始化
   2. 连接成功
4. 客户端输入指令
   1. 发送给服务器
   2. 服务器分析指令 
   3. 服务器执行指令
   4. 执行成功
5. 服务器向客户端输出指令
   1. 客户端接收 输出
   2. 处理指令成功

​	......

**退出程序时**

1.  关闭客户端
    1.  服务器接收 后台持久化数据
    2.  成功断开连接
2.  关闭服务器, 后台持久化数据
    1.  成功关闭服务器
